# NoPo3DFusion [AJCAI2025]
This is a repo for NoPo3DFusion, a scalable novel view synthesis (NVS) framework that generates long, multi-view consistent video sequences from just two unposed RGB images with controllable camera trajectories.

This framework is based on [NoPoSplat](https://github.com/cvg/NoPoSplat?tab=readme-ov-file) and [CogVideoX](https://github.com/zai-org/CogVideo), and was trained on the RE10K dataset.

## Environment
Follow the official environment guides of **NoPoSplat** and **CogVideoX**, then install core dependencies via:
```bash
# Create conda env (Python 3.10 recommended)
conda create -n nopo3 python=3.10
conda activate nopo3
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118
pip install -r requirements.txt
```


## Dataset
1. Use the **RE10K dataset** (same data structure as NoPoSplat).
2. Organize the dataset into the `re10k/` folder in the project root:
   ```
   re10k/
   ├── train/        
   │   ├── 000001.torch/          
   │   ├── 000002.torch/
   │   ├── ...
   │   └── index.json
   └── test
   ```
3. Download RE10K from its [official website](https://google.github.io/real-estate-10k/) or NoPoSplat’s dataset guide.


## Model weight
Manually download pre-trained weights and place them in the following paths:

| Component                | Target Path                          | Download Source                          |
|--------------------------|--------------------------------------|------------------------------------------|
| NoPoSplat (RE10K)        | `noposplat/pretrained_weights/re10k.ckpt` |  [Hugging Face](https://huggingface.co/botaoye/NoPoSplat/tree/main)           |
| CogVideoX-5b-I2V         | `model_weight/CogVideoX-5b-I2V/`     | [Hugging Face](https://huggingface.co/THUDM/CogVideoX-5b-I2V) |
| Fine-tuned Transformer   | `model_weight/fine-tuned_tran/`      | (TBD)             |


## Requirement
- **Inference**: Run the script directly to generate novel view videos.  
  Command: `sh test.sh`  
  VRAM Requirement: Less than 20G  

- **Training**: Run the script to train the model (based on RE10K dataset).  
  Command: `sh train.sh`  
  VRAM Requirement: 80G (suggested for stable training)

## Example Output
Here are sample novel view videos generated by NoPo3DFusion:
- `examples/re10k.mp4`: Video of an indoor building scene from RE10K, generated via its original camera trajectory.
- `examples/acid.mp4`: Video of an outdoor scene from ACID, generated via its original camera trajectory.
